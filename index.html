<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AI Music Converter ‚Äì Free Online Tool</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta name="description" content="Free AI Music Converter tool to convert any song into Slow, Fast or Lofi style. 100% browser-based, no upload to server. Personal & educational use only.">

<style>
*{
  box-sizing:border-box;
}
body{
  margin:0;
  min-height:100vh;
  background:#020617;
  color:#ffffff;
  font-family:Arial, sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
}
.container{
  width:100%;
  max-width:420px;
  padding:15px;
}
.box{
  background:#0f172a;
  padding:20px;
  border-radius:16px;
  text-align:center;
}
h1{
  font-size:22px;
  margin-bottom:5px;
}
small{
  opacity:0.7;
}
input, select, button{
  margin-top:12px;
  padding:12px;
  width:100%;
  border-radius:10px;
  border:none;
  font-size:15px;
}
button{
  background:#00ffd5;
  font-weight:bold;
  cursor:pointer;
}
audio{
  width:100%;
  margin-top:12px;
}
#status{
  margin-top:10px;
  font-size:14px;
  color:#7fffd4;
}
footer{
  margin-top:20px;
  text-align:center;
  font-size:13px;
  color:#aaa;
}
footer a{
  color:#00ffd5;
  text-decoration:none;
  margin:0 5px;
}
</style>
</head>

<body>

<div class="container">
  <div class="box">
    <h1>üéµ AI Music Converter</h1>
    <small>Any Song ‚Üí Slow / Fast / Lofi</small>

    <input type="file" id="file" accept="audio/*">

    <select id="mode">
      <option value="slow">üê¢ Slow Song</option>
      <option value="fast">‚ö° Fast Song</option>
      <option value="lofi">üéß Lofi Song</option>
    </select>

    <button onclick="convert()">Convert Music</button>
    <button onclick="download()">Download Converted</button>

    <audio id="player" controls></audio>
    <div id="status"></div>
  </div>

  <footer>
    <a href="terms.html">Terms</a> |
    <a href="disclaimer.html">Disclaimer</a><br><br>
    ¬© 2026 AI Music Converter<br>
    Personal & Educational Use Only
  </footer>
</div>

<script>
let audioCtx = new (window.AudioContext || window.webkitAudioContext)();
let sourceNode;
let bufferData;

function convert(){
  const fileInput = document.getElementById("file");
  if(!fileInput.files.length){
    alert("Please select an audio file first");
    return;
  }

  const reader = new FileReader();
  reader.readAsArrayBuffer(fileInput.files[0]);

  reader.onload = async () => {
    bufferData = await audioCtx.decodeAudioData(reader.result);

    if(sourceNode){
      sourceNode.stop();
    }

    sourceNode = audioCtx.createBufferSource();
    sourceNode.buffer = bufferData;

    const mode = document.getElementById("mode").value;
    let rate = 1;

    if(mode === "slow") rate = 0.7;
    if(mode === "fast") rate = 1.3;
    if(mode === "lofi") rate = 0.8;

    sourceNode.playbackRate.value = rate;
    sourceNode.connect(audioCtx.destination);
    sourceNode.start();

    document.getElementById("status").innerText =
      "Converted Mode: " + mode.toUpperCase();
  };
}

function download(){
  if(!bufferData){
    alert("Please convert music first");
    return;
  }

  const samples = bufferData.getChannelData(0);
  const buffer = new ArrayBuffer(44 + samples.length * 2);
  const view = new DataView(buffer);
  const sampleRate = bufferData.sampleRate;

  function writeString(offset, string){
    for(let i=0;i<string.length;i++){
      view.setUint8(offset+i, string.charCodeAt(i));
    }
  }

  writeString(0,"RIFF");
  view.setUint32(4,36 + samples.length*2,true);
  writeString(8,"WAVE");
  writeString(12,"fmt ");
  view.setUint32(16,16,true);
  view.setUint16(20,1,true);
  view.setUint16(22,1,true);
  view.setUint32(24,sampleRate,true);
  view.setUint32(28,sampleRate*2,true);
  view.setUint16(32,2,true);
  view.setUint16(34,16,true);
  writeString(36,"data");
  view.setUint32(40,samples.length*2,true);

  let offset = 44;
  for(let i=0;i<samples.length;i++){
    let s = Math.max(-1, Math.min(1, samples[i]));
    view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7fff, true);
    offset += 2;
  }

  const blob = new Blob([view], {type:"audio/wav"});
  const url = URL.createObjectURL(blob);

  const a = document.createElement("a");
  a.href = url;
  a.download = "converted_music.wav";
  a.click();
}
</script>

</body>
</html>
