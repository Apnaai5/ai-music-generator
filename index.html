<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AI Music Converter</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
 background:#0b1220;
 color:#fff;
 font-family:system-ui;
 margin:0;
}
.container{
 max-width:430px;
 margin:auto;
 padding:20px;
}
h1{margin-bottom:5px}
p{opacity:.8}

input,select,button{
 width:100%;
 padding:14px;
 margin-top:12px;
 border-radius:12px;
 border:none;
 font-size:16px;
}
button{
 background:#00ffd5;
 color:#000;
 font-weight:700;
}

audio{width:100%;margin-top:15px}

#loader{
 display:none;
 margin-top:20px;
 text-align:center;
}
.spin{
 width:42px;height:42px;
 border:4px solid #333;
 border-top:4px solid #00ffd5;
 border-radius:50%;
 animation:spin 1s linear infinite;
 margin:auto;
}
@keyframes spin{100%{transform:rotate(360deg)}}

.section{margin-top:40px;font-size:14px;opacity:.9}
footer{text-align:center;margin:40px 0;font-size:13px;opacity:.7}
hr{opacity:.2}
</style>
</head>

<body>
<div class="container">

<h1>ğŸµ AI Music Converter</h1>
<p>Slow â€¢ Fast â€¢ Lofi â€¢ EDM â€¢ Chill</p>

<input type="file" id="file" accept="audio/*">

<select id="mode">
<option value="slow">ğŸ¢ Slow</option>
<option value="fast">âš¡ Fast</option>
<option value="lofi">ğŸ§ Lofi</option>
<option value="edm">ğŸ”¥ EDM</option>
<option value="chill">ğŸŒ™ Chill</option>
</select>

<button onclick="convert()">Convert</button>
<button onclick="download()">Download</button>
<button id="installBtn" style="display:none">ğŸ“² Install App</button>
<button onclick="shareApp()">ğŸ”— Share</button>
  
<div id="loader">
<div class="spin"></div>
<p>Processing audioâ€¦</p>
</div>

<audio id="player" controls></audio>

<hr>

<div class="section">
<h3>About</h3>
<p>
This tool converts user-uploaded audio into different styles using browser-based processing.
No files are uploaded to any server.
</p>
</div>

<div class="section">
<h3>Privacy Policy</h3>
<p>
We do not store, collect or track any audio.
Everything runs locally on your device.
</p>
</div>

<div class="section">
<h3>Terms & Disclaimer</h3>
<p>
Upload only content you own or have rights to.
We do not host copyrighted material.
</p>
</div>

<div class="section">
<h3>Contact</h3>
<p>
Support is provided via GitHub repository issues.
</p>
</div>

<footer>Â© 2026 AI Music Converter</footer>

</div>

<script>
let outputBlob;

async function convert(){
 const f=document.getElementById("file").files[0];
 if(!f){alert("à¤ªà¤¹à¤²à¥‡ audio upload à¤•à¤°à¥‹");return;}

 loader(true);

 const ctx=new AudioContext({sampleRate:32000}); // MP3-like compression
 const buf=await ctx.decodeAudioData(await f.arrayBuffer());

 const off=new OfflineAudioContext(
  buf.numberOfChannels,
  buf.length,
  32000
 );

 const src=off.createBufferSource();
 src.buffer=buf;

 const mode=document.getElementById("mode").value;

 if(mode==="slow") src.playbackRate.value=0.75;
 if(mode==="fast") src.playbackRate.value=1.3;

 let last=src;

 if(mode==="lofi" || mode==="chill"){
  const low=off.createBiquadFilter();
  low.type="lowpass";
  low.frequency.value=mode==="chill"?550:900;
  last.connect(low);
  last=low;
 }

 if(mode==="edm"){
  const boost=off.createBiquadFilter();
  boost.type="lowshelf";
  boost.frequency.value=120;
  boost.gain.value=8;
  last.connect(boost);
  last=boost;
 }

 last.connect(off.destination);
 src.start();

 const rendered=await off.startRendering();
 outputBlob=toWav(rendered,rendered.length);

 document.getElementById("player").src=URL.createObjectURL(outputBlob);
 loader(false);
}

function loader(v){
 document.getElementById("loader").style.display=v?"block":"none";
}

function download(){
 if(!outputBlob){alert("à¤ªà¤¹à¤²à¥‡ convert à¤•à¤°à¥‹");return;}
 const a=document.createElement("a");
 a.href=URL.createObjectURL(outputBlob);
 a.download="AI_Music_Converted.wav";
 a.click();
}

function toWav(buf,len){
 const ch=buf.numberOfChannels;
 const b=new ArrayBuffer(44+len*ch*2);
 const v=new DataView(b);
 let p=0;

 const w=s=>{for(let i=0;i<s.length;i++)v.setUint8(p++,s.charCodeAt(i));};

 w("RIFF");v.setUint32(p,36+len*2,true);p+=4;
 w("WAVEfmt ");v.setUint32(p,16,true);p+=4;
 v.setUint16(p,1,true);p+=2;
 v.setUint16(p,ch,true);p+=2;
 v.setUint32(p,32000,true);p+=4;
 v.setUint32(p,32000*2*ch,true);p+=4;
 v.setUint16(p,ch*2,true);p+=2;
 v.setUint16(p,16,true);p+=2;
 w("data");v.setUint32(p,len*2,true);p+=4;

 const d=[];
 for(let i=0;i<ch;i++) d.push(buf.getChannelData(i));

 for(let i=0;i<len;i++){
  for(let j=0;j<ch;j++){
   let s=Math.max(-1,Math.min(1,d[j][i]));
   v.setInt16(p,s*32767,true);p+=2;
  }
 }
 return new Blob([v],{type:"audio/wav"});
}let deferredPrompt;

window.addEventListener("beforeinstallprompt", e => {
 e.preventDefault();
 deferredPrompt = e;
 document.getElementById("installBtn").style.display="block";
});

document.getElementById("installBtn").onclick = async ()=>{
 deferredPrompt.prompt();
 await deferredPrompt.userChoice;
 deferredPrompt=null;
};

function shareApp(){
 navigator.share({
  title:"AI Music Converter",
  text:"Free AI Music Converter â€“ Slow, Fast, Lofi, EDM, Chill",
  url:location.href
 });
                              }
  
</script>

</body>
</html>
