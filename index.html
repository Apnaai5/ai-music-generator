<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AI Music Converter ‚Äì Free Online Tool</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Free AI Music Converter to convert songs into Slow, Fast, Lofi, EDM & Chill modes. 100% browser-based.">

<style>
body{
  margin:0;
  min-height:100vh;
  background:#020617;
  color:#fff;
  font-family:Arial;
  display:flex;
  justify-content:center;
  align-items:center;
}
.box{
  background:#0f172a;
  padding:20px;
  border-radius:16px;
  width:100%;
  max-width:420px;
  text-align:center;
}
input,select,button{
  width:100%;
  padding:12px;
  margin-top:12px;
  border:none;
  border-radius:10px;
  font-size:15px;
}
button{
  background:#00ffd5;
  font-weight:bold;
  cursor:pointer;
}
audio{
  width:100%;
  margin-top:12px;
}
#status{
  margin-top:10px;
  font-size:14px;
  color:#7fffd4;
}
.loader{
  display:none;
  margin-top:12px;
}
.loader span{
  animation: blink 1.4s infinite both;
}
@keyframes blink{
  0%{opacity:.2}
  20%{opacity:1}
  100%{opacity:.2}
}
footer{
  margin-top:15px;
  font-size:13px;
  opacity:.7;
}
</style>
</head>

<body>

<div class="box">
<h2>üéµ AI Music Converter</h2>
<small>Slow ‚Ä¢ Fast ‚Ä¢ Lofi ‚Ä¢ EDM ‚Ä¢ Chill</small>

<input type="file" id="file" accept="audio/*">

<select id="mode">
<option value="slow">üê¢ Slow</option>
<option value="fast">‚ö° Fast</option>
<option value="lofi">üéß Lofi</option>
<option value="edm">üî• EDM</option>
<option value="chill">‚ùÑÔ∏è Chill</option>
</select>

<button onclick="convert()">Convert</button>
<button onclick="downloadMP3()">Download MP3</button>

<div class="loader" id="loader">
<span>Processing</span><span>.</span><span>.</span><span>.</span>
</div>

<audio id="player" controls></audio>
<div id="status"></div>

<footer>
Personal & Educational Use Only
</footer>
</div>

<script src="https://unpkg.com/lamejs@1.2.0/lame.min.js"></script>

<script>
let audioCtx = new (window.AudioContext || window.webkitAudioContext)();
let bufferData;

function convert(){
  const file = document.getElementById("file").files[0];
  if(!file){ alert("Select audio file"); return; }

  document.getElementById("loader").style.display="block";

  const reader = new FileReader();
  reader.readAsArrayBuffer(file);
  reader.onload = async ()=>{
    bufferData = await audioCtx.decodeAudioData(reader.result);
    let source = audioCtx.createBufferSource();
    source.buffer = bufferData;

    let rate=1;
    let mode=document.getElementById("mode").value;
    if(mode=="slow") rate=0.7;
    if(mode=="fast") rate=1.3;
    if(mode=="lofi") rate=0.8;
    if(mode=="edm") rate=1.25;
    if(mode=="chill") rate=0.85;

    source.playbackRate.value=rate;
    source.connect(audioCtx.destination);
    source.start();

    document.getElementById("player").src =
      URL.createObjectURL(new Blob([reader.result]));
    document.getElementById("status").innerText =
      "Mode: "+mode.toUpperCase();

    document.getElementById("loader").style.display="none";
  }
}

function downloadMP3(){
  if(!bufferData){ alert("Convert first"); return; }

  const samples = bufferData.getChannelData(0);
  const mp3enc = new lamejs.Mp3Encoder(1, bufferData.sampleRate, 128);
  let mp3Data=[];
  let sampleBlock=1152;

  for(let i=0;i<samples.length;i+=sampleBlock){
    let sampleChunk = samples.subarray(i,i+sampleBlock);
    let mp3buf = mp3enc.encodeBuffer(
      new Int16Array(sampleChunk.map(s=>s*32767))
    );
    if(mp3buf.length>0) mp3Data.push(mp3buf);
  }
  let end = mp3enc.flush();
  if(end.length>0) mp3Data.push(end);

  const blob = new Blob(mp3Data,{type:"audio/mp3"});
  const a=document.createElement("a");
  a.href=URL.createObjectURL(blob);
  a.download="converted.mp3";
  a.click();
}
</script>

</body>
</html>
